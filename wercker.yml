box: kubaj/cmake-valgrind

build:
  steps:
    - script:
      name: Build project
      code: |
        cmake .
        make

test:
  steps:
    - script:
      name: Run tests
      code: ./inter/ifj16test
    - script:
      name: Check memory leaks
      code: valgrind --leak-check=full --track-origins=yes --error-exitcode=1 ./inter/ifj16test